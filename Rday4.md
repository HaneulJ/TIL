## 2/25 수업

### 함수

> 특정 작업을 독립적으로 수행하는 프로그램 코드 집합

* 함수를 사용하여 반복적인 연산을 효과적으로 할 수 있음



#### 함수의 처리 과정

* 시작(입력): 매개변수를 통해 아규먼트값을 받아옴
* 실행연산: 연산, 변환 등
* 종료(출력): 수행결과를 데이터 셋으로 반환, 출력



##### 함수정의

```
함수명 <- function([매개변수]){
		함수의 수행 코드(수행명령문장들)
		[return(리턴하려는 값)]
}
```



##### 함수 호출

```
변수명 <- 함수명()
변수명 <- 함수명(아규먼트)
함수명()
함수명(아규먼트)
```



* 호출 시 함수가 정의하고 있는 **매개변수(기본값 없는)** 사양에 맞춰서 아규먼트를 전달해야 함
* 리턴값이 없는 함수: `NULL` 리턴
* 리턴값은 `return()`이라는 함수 호출하여 처리, 명확한 구현 필요
  * 생략된 경우: 마지막으로 출력된 데이터 값이 자동으로 리턴



* 아규먼트의 타입을 제한하려는 경우: `is.xxxx()`
* 기본값을 갖는 매개변수 선언하여 선택적으로 전달되는 아규먼트 처리 가능
* 아규먼트 개수와 타입: 가변
* 함수 안에서 만들어진 변수: 지역변수
* 함수 안에서 만들어지지 않은 변수 사용시 전역 변수 사용
* 함수 내에서 전역변수에 값을 저장하려는 경우: `<<-` 사용



##### 함수의 정의와 호출 예제들

* f1 호출: `f1 <- function() print("TEST")`
  * 문장 한 개: `{}` 생략 가능
* f2(100) 로 호출 :`f2 <- function(num) {print("TEST"); print(num) }` 
  *  f2(100, 200), f2() : 오류 발생

* `f3<- function (p="R") print(p)`: f3()로 호출 가능
  * f3(p="PYTHON"), f3("java") 로 매개변수 다르게 호출 가능

* `f4<- function (p1="ㅋㅋㅋ",p2) for(i in 1:p2) print(p1)`: p1은 뭘 출력할지, p2는 몇번 출력할지
  * p1 기본값 有
  * f4(p1="abc", p2=3), f4("abc", 3) 로 호출
  * f4(5): 오류, f4(p2=5) 로 호출
* 가변 인수: `function(...)`
  * `f5<- function(...) { print("TEST"); data <- c(...); print(length(data))}`
  * `c(...)` 벡터로!
  * f5(10, 20, 30), f5(“abc”, T, 10, 20) 로 호출



* 예제1

```
f7<- function(...) {
data<- c(...)
sum<- 0;
for(item in data) {
	if(is.numeric(item))
	   sum<- sum + item
	else
	   print(item)
}
return(sum)
}

f7(10,20,30)					         		
f7(10,20,"test", 30,40) # 오류

전달된 아규먼트인 벡터의 타입이 모두 같아야 함
```

* 예제2: 리스트는 데이터 타입에 제한X

```
f8<- function(...) {
data<- list(...)
sum<- 0;
for(item in data) {
	if(is.numeric(item))
	   sum<- sum + item
	else
	   print(item)
    }
return(sum)
}

f8(10,20,30)
f8(10,20,"test", 30,40)
```